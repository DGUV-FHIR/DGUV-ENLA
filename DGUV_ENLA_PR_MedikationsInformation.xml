<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="DGUV-ENLA-PR-MedikationsInformation" />
  <url value="http://fhir.dguv.de/ENLA/MedicationStatement/DGUV-ENLA-PR-MedikationsInformation" />
  <name value="DGUV_ENLA_PR_MedikationsInformation" />
  <title value="MedikationsInformation" />
  <status value="draft" />
  <publisher value="Deutsche Gesetzliche Unfallversicherung e.V. (DGUV)" />
  <description value="Dieses Profil bildet die Informationen zur Medikation ab, deren CodableConcept auf den drei Profilen “MedikationArzneimittel”, “MedikationRezeptur” und “MedikationWirkstoff” basiert." />
  <fhirVersion value="4.0.1" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="MedicationStatement" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/MedicationStatement" />
  <derivation value="constraint" />
  <differential>
    <element id="MedicationStatement.id">
      <path value="MedicationStatement.id" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.status">
      <path value="MedicationStatement.status" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.medication[x]">
      <path value="MedicationStatement.medication[x]" />
      <short value="Welche Medikamente genommen wurden" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://fhir.dguv.de/ENLA/Medication/DGUV-ENLA-PR-MedikationArzneimittel" />
        <targetProfile value="http://fhir.dguv.de/ENLA/Medication/DGUV_ENLA_PR_MedikationWirkstoff" />
        <targetProfile value="http://fhir.dguv.de/ENLA/Medication/DGUV-ENLA-PR-MedikationRezeptur" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.medication[x].reference">
      <path value="MedicationStatement.medication[x].reference" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.subject">
      <path value="MedicationStatement.subject" />
      <short value="Verweis auf betroffene versicherte Person" />
      <type>
        <code value="Reference" />
        <targetProfile value="https://fhir.dguv.de/ENLA/Patient/DGUV-ENLA-PR-VersichertePerson" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.subject.reference">
      <path value="MedicationStatement.subject.reference" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage">
      <path value="MedicationStatement.dosage" />
      <slicing>
        <discriminator>
          <type value="exists" />
          <path value="timing.code" />
        </discriminator>
        <discriminator>
          <type value="exists" />
          <path value="text" />
        </discriminator>
        <rules value="closed" />
      </slicing>
      <short value="Details wieviel Medikamente genommen werden bzw. genommen werden sollten" />
      <min value="1" />
      <max value="4" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung">
      <path value="MedicationStatement.dosage" />
      <sliceName value="strukturierteDosierung" />
      <max value="4" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.sequence">
      <path value="MedicationStatement.dosage.sequence" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.text">
      <path value="MedicationStatement.dosage.text" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.additionalInstruction">
      <path value="MedicationStatement.dosage.additionalInstruction" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.patientInstruction">
      <path value="MedicationStatement.dosage.patientInstruction" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing">
      <path value="MedicationStatement.dosage.timing" />
      <short value="Zeit, wann Medikament verabreicht werden soll" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.event">
      <path value="MedicationStatement.dosage.timing.event" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.repeat">
      <path value="MedicationStatement.dosage.timing.repeat" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code">
      <path value="MedicationStatement.dosage.timing.code" />
      <short value="MORN | MORN.early | MORN.late | NOON | AFT | AFT.early | AFT.late | EVE I EVE.early I EVE.late I NIGHT I PHS" />
      <min value="1" />
      <mustSupport value="true" />
      <binding>
        <strength value="preferred" />
        <valueSet value="http://hl7.org/fhir/event-timing" />
      </binding>
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code.coding">
      <path value="MedicationStatement.dosage.timing.code.coding" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code.coding.system">
      <path value="MedicationStatement.dosage.timing.code.coding.system" />
      <min value="1" />
      <fixedUri value="http://hl7.org/fhir/event-timing" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code.coding.version">
      <path value="MedicationStatement.dosage.timing.code.coding.version" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code.coding.code">
      <path value="MedicationStatement.dosage.timing.code.coding.code" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code.coding.display">
      <path value="MedicationStatement.dosage.timing.code.coding.display" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code.coding.display.extension">
      <path value="MedicationStatement.dosage.timing.code.coding.display.extension" />
      <min value="1" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code.coding.display.extension:AnzeigenameDeutsch">
      <path value="MedicationStatement.dosage.timing.code.coding.display.extension" />
      <sliceName value="AnzeigenameDeutsch" />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://fhir.dguv.de/ENLA/Extension/DGUV-ENLA-EX-AnzeigenameDeutsch" />
      </type>
      <mustSupport value="true" />
      <isModifier value="false" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code.coding.display.extension:AnzeigenameDeutsch.value[x]">
      <path value="MedicationStatement.dosage.timing.code.coding.display.extension.value[x]" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.timing.code.text">
      <path value="MedicationStatement.dosage.timing.code.text" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.asNeeded[x]">
      <path value="MedicationStatement.dosage.asNeeded[x]" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.site">
      <path value="MedicationStatement.dosage.site" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.route">
      <path value="MedicationStatement.dosage.route" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.route.coding">
      <path value="MedicationStatement.dosage.route.coding" />
      <max value="1" />
      <mustSupport value="true" />
      <binding>
        <strength value="extensible" />
        <valueSet value="https://fhir.kbv.de/ValueSet/KBV_VS_MIO_PS_Route_of_Administration" />
      </binding>
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.route.coding.system">
      <path value="MedicationStatement.dosage.route.coding.system" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.route.coding.version">
      <path value="MedicationStatement.dosage.route.coding.version" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.route.coding.code">
      <path value="MedicationStatement.dosage.route.coding.code" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.route.coding.display">
      <path value="MedicationStatement.dosage.route.coding.display" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.route.coding.userSelected">
      <path value="MedicationStatement.dosage.route.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.route.text">
      <path value="MedicationStatement.dosage.route.text" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.method">
      <path value="MedicationStatement.dosage.method" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate">
      <path value="MedicationStatement.dosage.doseAndRate" />
      <max value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.type">
      <path value="MedicationStatement.dosage.doseAndRate.type" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.dose[x]">
      <path value="MedicationStatement.dosage.doseAndRate.dose[x]" />
      <min value="1" />
      <type>
        <code value="Quantity" />
      </type>
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.dose[x].value">
      <path value="MedicationStatement.dosage.doseAndRate.dose[x].value" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.dose[x].system">
      <path value="MedicationStatement.dosage.doseAndRate.dose[x].system" />
      <min value="1" />
      <fixedUri value="https://fhir.kbv.de/CodeSystem/KBV_CS_SFHIR_BMP_DOSIEREINHEIT" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.dose[x].code">
      <path value="MedicationStatement.dosage.doseAndRate.dose[x].code" />
      <min value="1" />
      <mustSupport value="true" />
      <binding>
        <strength value="required" />
        <valueSet value="https://fhir.kbv.de/ValueSet/KBV_VS_MIO_PS_S_BMP_DOSING_UNIT" />
      </binding>
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.rate[x]">
      <path value="MedicationStatement.dosage.doseAndRate.rate[x]" />
      <max value="0" />
      <type>
        <code value="Quantity" />
      </type>
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.rate[x].value">
      <path value="MedicationStatement.dosage.doseAndRate.rate[x].value" />
      <min value="1" />
      <fixedDecimal value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.rate[x].unit">
      <path value="MedicationStatement.dosage.doseAndRate.rate[x].unit" />
      <min value="1" />
      <fixedString value="d" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.rate[x].system">
      <path value="MedicationStatement.dosage.doseAndRate.rate[x].system" />
      <min value="1" />
      <fixedUri value="http://unitsofmeasure.org" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.doseAndRate.rate[x].code">
      <path value="MedicationStatement.dosage.doseAndRate.rate[x].code" />
      <min value="1" />
      <fixedCode value="d" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.maxDosePerPeriod">
      <path value="MedicationStatement.dosage.maxDosePerPeriod" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.maxDosePerAdministration">
      <path value="MedicationStatement.dosage.maxDosePerAdministration" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:strukturierteDosierung.maxDosePerLifetime">
      <path value="MedicationStatement.dosage.maxDosePerLifetime" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung">
      <path value="MedicationStatement.dosage" />
      <sliceName value="freitextlicheDosierung" />
      <max value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.sequence">
      <path value="MedicationStatement.dosage.sequence" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.text">
      <path value="MedicationStatement.dosage.text" />
      <min value="1" />
      <mustSupport value="true" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.additionalInstruction">
      <path value="MedicationStatement.dosage.additionalInstruction" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.patientInstruction">
      <path value="MedicationStatement.dosage.patientInstruction" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.timing">
      <path value="MedicationStatement.dosage.timing" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.asNeeded[x]">
      <path value="MedicationStatement.dosage.asNeeded[x]" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.site">
      <path value="MedicationStatement.dosage.site" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.route">
      <path value="MedicationStatement.dosage.route" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.method">
      <path value="MedicationStatement.dosage.method" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.doseAndRate">
      <path value="MedicationStatement.dosage.doseAndRate" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.maxDosePerPeriod">
      <path value="MedicationStatement.dosage.maxDosePerPeriod" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.maxDosePerAdministration">
      <path value="MedicationStatement.dosage.maxDosePerAdministration" />
      <max value="0" />
    </element>
    <element id="MedicationStatement.dosage:freitextlicheDosierung.maxDosePerLifetime">
      <path value="MedicationStatement.dosage.maxDosePerLifetime" />
      <max value="0" />
    </element>
  </differential>
</StructureDefinition>